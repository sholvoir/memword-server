import{ah as e,ai as t,aj as n,an as r,ao as i,aq as a,ar as o,at as s,av as c,ax as l,ay as u,az as d}from"./dialog-AXHxQr7p.js";var f=i(`<div class="absolute border bg-[var(--bg-body)] z-100 top-[calc(100%_+_4px)] inset-x-0 px-2">`),p=i(`<div><input class="w-full px-2">`),m=i(`<div>`),h=t=>{let[i,h]=d(t,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[g,_]=i.binding,v=i.maxSuggest??12,[y,b]=l([]),x=()=>setTimeout(()=>b([]),200),S=e=>{e.stopPropagation(),e.key===`Enter`&&x()&&i.onChange?.(g())},C=e=>{let t=_(e.currentTarget.value);if(!t)return b([]);let n=[],r=[];for(let e of i.options)if(e.startsWith(t)?n.push(e):e.includes(t)&&r.push(e),n.length>=v)break;b(n.concat(r.slice(0,v-n.length)))},w=e=>{_(e.currentTarget.textContent??``),i.onChange?.(g())};return(()=>{var t=p(),l=t.firstChild;return r(l,u(h,{get value(){return g()},onBlur:x,onInput:C,onKeyUp:S}),!1,!1),n(t,s(o,{get when(){return y().length},get children(){var e=f();return n(e,s(a,{get each(){return y()},children:e=>(()=>{var t=m();return t.$$click=w,n(t,e),t})()})),e}}),null),c(()=>e(t,`inline-block relative ${i.class??``}`)),t})()};t([`click`]);var g=i(`<div>`),_=t=>{let[r,i]=t.cindex,o=(e,n)=>{n.stopPropagation(),i(e()),t.onClick&&(typeof t.onClick==`function`?t.onClick(n):t.onClick[0](t.onClick[1],n))};return s(a,{get each(){return t.options},children:(i,a)=>(()=>{var s=g();return s.$$click=o,s.$$clickData=a,n(s,()=>t.func(i)),c(()=>e(s,`${t.class??``} ${r()===a()?t.activeClass:``}`)),s})()})};t([`click`]);export{_ as b,h as c};