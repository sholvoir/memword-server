import{At as e,Ct as t,Et as n,Mt as r,Nt as i,Ot as a,Pt as o,St as s,Tt as c,_t as l,gt as u,vt as d}from"./dialog-DzZvDl28.js";var f=t(`<div class="absolute border bg-[var(--bg-body)] z-100 top-[calc(100%_+_4px)] inset-x-0 px-2">`),p=t(`<div><input class="w-full px-2">`),m=t(`<div>`),h=t=>{let[l,h]=o(t,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[g,_]=l.binding,v=l.maxSuggest??12,[y,b]=r([]),x=()=>setTimeout(()=>b([]),200),S=e=>{e.stopPropagation(),e.key===`Enter`&&x()&&l.onChange?.(g())},C=e=>{let t=_(e.currentTarget.value);if(!t)return b([]);let n=[],r=[];for(let e of l.options)if(e.startsWith(t)?n.push(e):e.includes(t)&&r.push(e),n.length>=v)break;b(n.concat(r.slice(0,v-n.length)))},w=e=>{_(e.currentTarget.textContent??``),l.onChange?.(g())};return(()=>{var t=p(),r=t.firstChild;return s(r,i(h,{get value(){return g()},onBlur:x,onInput:C,onKeyUp:S}),!1,!1),d(t,a(n,{get when(){return y().length},get children(){var e=f();return d(e,a(c,{get each(){return y()},children:e=>(()=>{var t=m();return t.$$click=w,d(t,e),t})()})),e}}),null),e(()=>u(t,`inline-block relative ${l.class??``}`)),t})()};l([`click`]);var g=t(`<div>`),_=t=>{let[n,r]=t.cindex,i=(e,n)=>{n.stopPropagation(),r(e()),t.onClick&&(typeof t.onClick==`function`?t.onClick(n):t.onClick[0](t.onClick[1],n))};return a(c,{get each(){return t.options},children:(r,a)=>(()=>{var o=g();return o.$$click=i,o.$$clickData=a,d(o,()=>t.func(r)),e(()=>u(o,`${t.class??``} ${n()===a()?t.activeClass:``}`)),o})()})};l([`click`]);export{h as n,_ as t};