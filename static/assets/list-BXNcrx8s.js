import{Dt as e,Mt as t,Nt as n,St as r,Tt as i,_t as a,gt as o,ht as s,jt as c,kt as l,wt as u,xt as d}from"./dialog-Bm6HIflT.js";var f=r(`<div class="absolute border bg-(--bg-body) z-100 top-[calc(100%+4px)] inset-x-0 px-2">`),p=r(`<div><input class="w-full px-2">`),m=r(`<div>`),h=r=>{let[o,h]=n(r,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[g,_]=o.binding,v=o.maxSuggest??12,[y,b]=c([]),x=()=>setTimeout(()=>b([]),200),S=e=>{e.stopPropagation(),e.key===`Enter`&&x()&&o.onChange?.(g())},C=e=>{let t=_(e.currentTarget.value);if(!t)return b([]);let n=[],r=[];for(let e of o.options)if(e.startsWith(t)?n.push(e):e.includes(t)&&r.push(e),n.length>=v)break;b(n.concat(r.slice(0,v-n.length)))},w=e=>{_(e.currentTarget.textContent??``),o.onChange?.(g())};return(()=>{var n=p(),r=n.firstChild;return d(r,t(h,{get value(){return g()},onBlur:x,onInput:C,onKeyUp:S}),!1,!1),a(n,e(i,{get when(){return y().length},get children(){var t=f();return a(t,e(u,{get each(){return y()},children:e=>(()=>{var t=m();return t.$$click=w,a(t,e),t})()})),t}}),null),l(()=>s(n,`inline-block relative ${o.class??``}`)),n})()};o([`click`]);var g=r(`<div>`),_=t=>{let[n,r]=t.cindex,i=(e,n)=>{n.stopPropagation(),r(e()),t.onClick&&(typeof t.onClick==`function`?t.onClick(n):t.onClick[0](t.onClick[1],n))};return e(u,{get each(){return t.options},children:(e,r)=>(()=>{var o=g();return o.$$click=i,o.$$clickData=r,a(o,()=>t.func(e)),l(()=>s(o,`${t.class??``} ${n()===r()?t.activeClass:``}`)),o})()})};o([`click`]);export{h as n,_ as t};